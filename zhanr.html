<!DOCTYPE html>
<html>
	<head>
		<link href="http://allfont.ru/css/?fonts=posteretro" rel="stylesheet" type="text/css" />
		<meta charset="utf-8" />
        <title>Жанры</title>
        <link rel="stylesheet" type="text/css" href="main_style.css"/>
        <script type="text/javascript" src="jquery-2.1.3.min.js"></script>
        <script type="text/javascript" src="jquery-2.1.3.min.js"></script>
		<script type="text/javascript" src="upload.js"></script>
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
		<script type="text/javascript" src="fancybox/jquery.fancybox-1.3.4.pack.js"></script>
		<script type="text/javascript" src="fancybox/jquery.easing-1.3.pack.js"></script>
		<script type="text/javascript" src="fancybox/jquery.mousewheel-3.0.4.pack.js"></script>
		<script type="text/javascript" src="js/mustache.2.0.min.js"></script>
		<link rel="stylesheet" href="fancybox/jquery.fancybox-1.3.4.css" type="text/css" media="screen" />
		<link rel="shortcut icon" href="pix.jpg" type="image/x-icon">
	</head>
	<body>
		<div class="page">
			<header> 
				<div class="container">
					<div id="venzel_1"></div>
					<div id="venzel_2"></div>
					<div class="page_logo"><a href="project.html">Картинная галерея</a></div>
				</div>
			</header>
			<div class="menu">
				<div class="button_r"><a href="tech.html">Техника</a></div>
				<div class="button_r"><a href="vid.html">Виды</a></div>
				<div class="button_l"><a href="styl.html">Стили</a></div>
				<div class="button_l"><a href="#">Жанры</a></div>
				<div class="venzel"></div>
			</div>
			<table  class="genus">
			  <tr>
			  	<caption>Жанры</caption>
			  </tr>
			  <tr>
			  	<td class='templated' data-index='0'>
			  	</td>
			  	<td class="templated" data-index='1'>
			  	</td>
			  	<td class="templated" data-index='2'>
			  	</td>
			  	<td class="templated" data-index='3'>
			  	</td>
			  	</tr>
			  	<tr>
			  	<td class="templated" data-index='4'>
			  	</td>
			  	<td class="templated" data-index='5'>
			  	</td>
			  	<td class="templated" data-index='6'>
			  	</td>
			  	<td class="templated" data-index='7'>
			  	</td>
			  	</tr>
			</table>
			<div class="footer">  © Coopyright Diana Polonskaya, 2015 </div>
			<script type="text/javascript">
				$(function () {
					var template = $('#detailed-view').html();
					
					function render(response) { 
						$('.templated').each(function() {
							var index = $(this).data('index');
							var data = response[index];
							$(this).html(Mustache.render(template, data));
							$(this).find('.show').fancybox({
								'titlePosition' : 'inside',
								'transitionIn' : 'none',
								'transitionOut' : 'none',
								'scrolling': 'no',
								'fitToView':false,
								'autoResize':false,
								'autoScale': true,
							});
						});
					}

					function logError() {
						console.error('error loading data', arguments);
					}

					$.getJSON('data/genre.json')
						.then(render, logError);
					
				});
			</script>
			<script type="text/html" id="detailed-view">
				<div class="home-active">
				    <img src="{{thumbImage}}" alt="" />
				    <div class="block-hidden">
				        <div class="read-more"><a class="show" href="#{{id}}" title="{{name}}">{{name}}</a></div>
				        <p>{{&thumbDesc}}</p>
				        <div style="display: none;">
						    	<table id="{{id}}" class="popup">
						    		<tr>
						    			<td class="popup__image popup__image_type_{{id}}">
						    				<div class="about">
												<p class="desc">{{&description}}</p>
											</div>
						    			</td>
						    			<td class="popup__description">{{&content}}</td>
						    		</tr>
						    	</table>
						</div>     
				    </div>
				</div>
			</script>

	</body>
</html>